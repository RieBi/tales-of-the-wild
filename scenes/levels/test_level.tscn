[gd_scene load_steps=13 format=3 uid="uid://blbtwj3c7folu"]

[ext_resource type="TileSet" uid="uid://2vkflo6ftr3y" path="res://assets/tiles/tileset_roguelike.tres" id="1_70p2h"]
[ext_resource type="Script" path="res://scenes/levels/test_level.gd" id="1_a0jbc"]
[ext_resource type="PackedScene" uid="uid://dv4t4oejw5u08" path="res://scenes/characters/player/player_capybara.tscn" id="4_kipbp"]
[ext_resource type="PackedScene" uid="uid://lmb0s38ldmgi" path="res://scenes/dialogue/dialogue_trigger.tscn" id="4_oik48"]
[ext_resource type="PackedScene" uid="uid://djlsrgut1o132" path="res://scenes/dialogue/action_trigger.tscn" id="5_4jmyt"]
[ext_resource type="PackedScene" uid="uid://dvv8ejxyviw24" path="res://scenes/characters/movable_character_base.tscn" id="6_574rc"]
[ext_resource type="PackedScene" uid="uid://dfw8idcll53rp" path="res://scenes/dialogue/enter_trigger.tscn" id="7_3g5m2"]

[sub_resource type="CircleShape2D" id="CircleShape2D_0uwnt"]
radius = 30.0

[sub_resource type="CircleShape2D" id="CircleShape2D_atrgi"]

[sub_resource type="CircleShape2D" id="CircleShape2D_0yces"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_0xjb2"]
vertices = PackedVector2Array(-8, -88, -24, -88, -24, -120, -8, -120, 152, -136, 152, -120, 136, -120, 120, -136, 120, -88, 136, -88, 40, 120, 264, 184, -120, 184, 8, 120, 88, 72, 56, 72, 40, 72, 56, 24, 8, 56, 8, 8, 24, -56, 8, 72, -24, 56, 264, -184, 168, -56, -128, -184, -56, -184, -56, -56, 24, -120, 88, -120, 88, -56, 168, -88, 184, -88, 184, -168, 120, -168, 120, -184, -24, 8, 88, 24)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6, 7), PackedInt32Array(8, 7, 6, 9), PackedInt32Array(10, 11, 12, 13), PackedInt32Array(14, 11, 10, 15), PackedInt32Array(15, 10, 16), PackedInt32Array(17, 15, 16, 18, 19, 20), PackedInt32Array(18, 16, 21, 22), PackedInt32Array(23, 11, 14, 24), PackedInt32Array(12, 25, 26, 27), PackedInt32Array(20, 28, 29, 30, 17), PackedInt32Array(24, 31, 32), PackedInt32Array(33, 34, 35, 23), PackedInt32Array(32, 33, 23), PackedInt32Array(22, 21, 13, 12), PackedInt32Array(22, 12, 27, 36), PackedInt32Array(36, 27, 20, 19), PackedInt32Array(37, 17, 30, 24), PackedInt32Array(14, 37, 24), PackedInt32Array(23, 24, 32)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-136, -192, 272, -192, 272, 192, -128, 192)])
source_geometry_mode = 1
source_geometry_group_name = &"level"
agent_radius = 8.0

[sub_resource type="Curve2D" id="Curve2D_jv8t7"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 128, -32, 0, 0, 0, 0, 128, 64, 0, 0, 0, 0, 96, 80, 0, 0, 0, 0, 72, 80, 0, 0, 0, 0, 64, 72, 0, 0, 0, 0, 48, 72, 0, 0, 0, 0, 16, 72, 0, 0, 0, 0, 8, 72, 0, 0, 0, 0, 8, 120, 0, 0, 0, 0, 40, 120, 0, 0, 0, 0, 40, 56, 0, 0, 0, 0, 16, 16, 0, 0, 0, 0, 16, -32)
}
point_count = 13

[node name="TestLevel" type="Node2D" groups=["level"]]
script = ExtResource("1_a0jbc")

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource("1_70p2h")
format = 2
layer_0/name = "solid"
layer_0/tile_data = PackedInt32Array(-458746, 2228224, 13, -589818, 2490368, 13, -655354, 2555904, 12, -655353, 2293760, 12, -655352, 2293760, 12, -655351, 2293760, 12, -655350, 2490368, 12, -589814, 2359296, 13, -524278, 2359296, 13, -458742, 2490368, 13, -458743, 2424832, 12, -393207, 2359296, 13, -327671, 2490368, 13, -327672, 2293760, 12, -327673, 2293760, 12, -327674, 2424832, 13, -393210, 2359296, 13, -589819, 2293760, 12, -589820, 2293760, 12, -589821, 2293760, 12, -589822, 2621440, 12, -655358, 2359296, 13, -720894, 2621440, 13, -720893, 2293760, 12, -720892, 2293760, 12, -720891, 2293760, 12, -720890, 2490368, 12, -720895, 2293760, 12, -720896, 2293760, 12, -655361, 2293760, 12, -655362, 2293760, 12, -655363, 2424832, 12, -589827, 2359296, 13, -524291, 2555904, 12, -524290, 2293760, 12, -524289, 2293760, 12, -589824, 2621440, 13, -589823, 2293760, 12, -458755, 2359296, 13, -393219, 2359296, 13, -327683, 2359296, 13, -262147, 2424832, 13, -262146, 2293760, 12, -262145, 2293760, 12, -327680, 2490368, 13, -393216, 2359296, 13, -458752, 2359296, 13, -524288, 2359296, 13, 131071, 851968, 10, 196607, 851968, 11, 131076, 851968, 10, 196612, 851968, 11, 327681, 851968, 10, 393217, 851968, 11)
layer_1/name = "front"
layer_1/z_index = -1
layer_1/tile_data = PackedInt32Array(-655362, 65536, 26, -589826, 65536, 26, -524290, 65536, 26, -458754, 65536, 26, -393218, 65536, 26, -327682, 65536, 26, -655361, 65536, 26, -589825, 65536, 26, -524289, 65536, 26, -458753, 65536, 26, -393217, 65536, 26, -327681, 65536, 26, -720896, 65536, 26, -655360, 65536, 26, -589824, 65536, 26, -524288, 65536, 26, -458752, 65536, 26, -393216, 65536, 26, -655363, 65536, 26, -589827, 65536, 26, -524291, 65536, 26, -458755, 65536, 26, -393219, 65536, 26, -327683, 65536, 26, -262147, 65536, 26, -262146, 65536, 26, -262145, 65536, 26, -327680, 65536, 26, -720895, 65536, 26, -655359, 65536, 26, -589823, 65536, 26, -720894, 65536, 26, -655358, 65536, 26, -589822, 65536, 26, -720893, 65536, 26, -655357, 65536, 26, -589821, 65536, 26, -720892, 65536, 26, -655356, 65536, 26, -589820, 65536, 26, -720891, 65536, 26, -655355, 65536, 26, -589819, 65536, 26, -720890, 65536, 26, -655354, 65536, 26, -589818, 65536, 26, -655353, 65536, 26, -589817, 65536, 26, -655352, 65536, 26, -589816, 65536, 26, -655351, 65536, 26, -589815, 65536, 26, -655350, 65536, 26, -589814, 65536, 26, -524282, 65536, 26, -458746, 65536, 26, -393210, 65536, 26, -327674, 65536, 26, -524281, 65536, 26, -458745, 65536, 26, -393209, 65536, 26, -327673, 65536, 26, -524280, 65536, 26, -458744, 65536, 26, -393208, 65536, 26, -327672, 65536, 26, -524279, 65536, 26, -458743, 65536, 26, -393207, 65536, 26, -327671, 65536, 26, -524278, 65536, 26, -458742, 65536, 26)
layer_2/name = "back"
layer_2/z_index = -2
layer_2/tile_data = PackedInt32Array(-524287, 196608, 16, -458751, 196608, 16, -393215, 196608, 16, -327679, 196608, 16, -262143, 196608, 16, -196607, 196608, 16, -524286, 196608, 16, -458750, 196608, 16, -393214, 196608, 16, -327678, 196608, 16, -262142, 196608, 16, -196606, 196608, 16, -524285, 196608, 16, -458749, 196608, 16, -393213, 196608, 16, -327677, 196608, 16, -262141, 196608, 16, -196605, 196608, 16, -524284, 196608, 16, -458748, 196608, 16, -393212, 196608, 16, -327676, 196608, 16, -262140, 196608, 16, -196604, 196608, 16, -524283, 196608, 16, -458747, 196608, 16, -393211, 196608, 16, -327675, 196608, 16, -262139, 196608, 16, -196603, 196608, 16, -196611, 131072, 16, -131075, 131072, 16, -196610, 196608, 16, -131074, 196608, 16, -196609, 196608, 16, -131073, 196608, 16, -262144, 196608, 16, -196608, 196608, 16, -262138, 196608, 16, -196602, 196608, 16, -262137, 196608, 16, -196601, 196608, 16, -262136, 196608, 16, -196600, 196608, 16, -262135, 196608, 16, -196599, 196608, 16, -262134, 196608, 16, -196598, 0, 15, -655363, 196608, 16, -589827, 196608, 16, -524291, 196608, 16, -458755, 196608, 16, -393219, 196608, 16, -327683, 196608, 16, -262147, 196608, 16, -655362, 196608, 16, -589826, 196608, 16, -524290, 196608, 16, -458754, 196608, 16, -393218, 196608, 16, -327682, 196608, 16, -262146, 196608, 16, -655361, 196608, 16, -589825, 196608, 16, -524289, 196608, 16, -458753, 196608, 16, -393217, 196608, 16, -327681, 196608, 16, -262145, 196608, 16, -720896, 196608, 16, -655360, 196608, 16, -589824, 196608, 16, -524288, 196608, 16, -458752, 196608, 16, -393216, 196608, 16, -327680, 196608, 16, -720895, 196608, 16, -655359, 196608, 16, -589823, 196608, 16, -720894, 196608, 16, -655358, 196608, 16, -589822, 196608, 16, -720893, 196608, 16, -655357, 196608, 16, -589821, 196608, 16, -720892, 196608, 16, -655356, 196608, 16, -589820, 196608, 16, -720891, 196608, 16, -655355, 196608, 16, -589819, 196608, 16, -720890, 196608, 16, -655354, 196608, 16, -589818, 196608, 16, -524282, 196608, 16, -458746, 196608, 16, -393210, 196608, 16, -327674, 196608, 16, -720889, 196608, 16, -655353, 196608, 16, -589817, 196608, 16, -524281, 196608, 16, -458745, 196608, 16, -393209, 196608, 16, -327673, 196608, 16, -720888, 196608, 16, -655352, 196608, 16, -589816, 196608, 16, -524280, 196608, 16, -458744, 196608, 16, -393208, 196608, 16, -327672, 196608, 16, -720887, 196608, 16, -655351, 196608, 16, -589815, 196608, 16, -524279, 196608, 16, -458743, 196608, 16, -393207, 196608, 16, -327671, 196608, 16, -720886, 196608, 16, -655350, 196608, 16, -589814, 196608, 16, -524278, 196608, 16, -458742, 196608, 16, -393206, 196608, 16, -327670, 196608, 16, 720906, 262144, 17, 655370, 262144, 16, 589834, 262144, 16, 524298, 262144, 16, 458762, 262144, 16, 393226, 262144, 16, 327690, 262144, 16, 262154, 262144, 16, 196618, 262144, 16, 131082, 262144, 16, 65546, 262144, 16, 10, 262144, 16, -65526, 262144, 16, -131062, 262144, 16, 720905, 196608, 17, 655369, 196608, 16, 589833, 196608, 16, 524297, 196608, 16, 458761, 196608, 16, 393225, 196608, 16, 327689, 196608, 16, 262153, 196608, 16, 196617, 196608, 16, 131081, 196608, 16, 65545, 196608, 16, 9, 196608, 16, -65527, 196608, 16, -131063, 196608, 16, 720904, 196608, 17, 655368, 196608, 16, 589832, 196608, 16, 524296, 196608, 16, 458760, 196608, 16, 393224, 196608, 16, 327688, 196608, 16, 262152, 196608, 16, 196616, 196608, 16, 131080, 196608, 16, 65544, 196608, 16, 8, 196608, 16, -65528, 196608, 16, -131064, 196608, 16, 720903, 196608, 17, 655367, 196608, 16, 589831, 196608, 16, 524295, 196608, 16, 458759, 196608, 16, 393223, 196608, 16, 327687, 196608, 16, 262151, 196608, 16, 196615, 196608, 16, 131079, 196608, 16, 65543, 196608, 16, 7, 196608, 16, -65529, 196608, 16, -131065, 196608, 16, 720902, 196608, 17, 655366, 196608, 16, 589830, 196608, 16, 524294, 196608, 16, 458758, 196608, 16, 393222, 196608, 16, 327686, 196608, 16, 262150, 196608, 16, 196614, 196608, 16, 131078, 196608, 16, 65542, 196608, 16, 6, 196608, 16, -65530, 196608, 16, -131066, 196608, 16, 720901, 196608, 17, 655365, 196608, 16, 589829, 196608, 16, 524293, 196608, 16, 458757, 196608, 16, 393221, 196608, 16, 327685, 196608, 16, 262149, 196608, 16, 196613, 196608, 16, 131077, 196608, 16, 65541, 196608, 16, 5, 196608, 16, -65531, 196608, 16, -131067, 196608, 16, 720900, 196608, 17, 655364, 196608, 16, 589828, 196608, 16, 524292, 196608, 16, 458756, 196608, 16, 393220, 196608, 16, 327684, 196608, 16, 262148, 196608, 16, 196612, 196608, 16, 131076, 196608, 16, 65540, 196608, 16, 4, 196608, 16, -65532, 196608, 16, -131068, 196608, 16, 720899, 196608, 17, 655363, 196608, 16, 589827, 196608, 16, 524291, 196608, 16, 458755, 196608, 16, 393219, 196608, 16, 327683, 196608, 16, 262147, 196608, 16, 196611, 196608, 16, 131075, 196608, 16, 65539, 196608, 16, 3, 196608, 16, -65533, 196608, 16, -131069, 196608, 16, 720898, 196608, 17, 655362, 196608, 16, 589826, 196608, 16, 524290, 196608, 16, 458754, 196608, 16, 393218, 196608, 16, 327682, 196608, 16, 262146, 196608, 16, 196610, 196608, 16, 131074, 196608, 16, 65538, 196608, 16, 2, 196608, 16, -65534, 196608, 16, -131070, 196608, 16, 720897, 196608, 17, 655361, 196608, 16, 589825, 196608, 16, 524289, 196608, 16, 458753, 196608, 16, 393217, 196608, 16, 327681, 196608, 16, 262145, 196608, 16, 196609, 196608, 16, 131073, 196608, 16, 65537, 196608, 16, 1, 196608, 16, -65535, 196608, 16, -131071, 196608, 16, 720896, 196608, 17, 655360, 196608, 16, 589824, 196608, 16, 524288, 196608, 16, 458752, 196608, 16, 393216, 196608, 16, 327680, 196608, 16, 262144, 196608, 16, 196608, 196608, 16, 131072, 196608, 16, 65536, 196608, 16, 0, 196608, 16, -65536, 196608, 16, -131072, 196608, 16, 786431, 196608, 17, 720895, 196608, 16, 655359, 196608, 16, 589823, 196608, 16, 524287, 196608, 16, 458751, 196608, 16, 393215, 196608, 16, 327679, 196608, 16, 262143, 196608, 16, 196607, 196608, 16, 131071, 196608, 16, 65535, 196608, 16, -1, 196608, 16, -65537, 196608, 16, 786430, 196608, 17, 720894, 196608, 16, 655358, 196608, 16, 589822, 196608, 16, 524286, 196608, 16, 458750, 196608, 16, 393214, 196608, 16, 327678, 196608, 16, 262142, 196608, 16, 196606, 196608, 16, 131070, 196608, 16, 65534, 196608, 16, -2, 196608, 16, -65538, 196608, 16, 786429, 131072, 17, 720893, 131072, 16, 655357, 131072, 16, 589821, 131072, 16, 524285, 131072, 16, 458749, 131072, 16, 393213, 131072, 16, 327677, 131072, 16, 262141, 131072, 16, 196605, 131072, 16, 131069, 131072, 16, 65533, 131072, 16, -3, 131072, 16, -65539, 131072, 16)

[node name="DialogueTrigger" parent="." instance=ExtResource("4_oik48")]
position = Vector2(-64, -104)
dialogue_id = "demo_1"
dialogue_teller_name = "Unknown teller"
dialogue_portrait = "unknown"

[node name="CollisionShape2D" type="CollisionShape2D" parent="DialogueTrigger"]
position = Vector2(32, 72)
shape = SubResource("CircleShape2D_0uwnt")

[node name="PlayerCapybara" parent="." instance=ExtResource("4_kipbp")]
position = Vector2(48, -88)
wall_min_slide_angle = 0.261799

[node name="ActionTrigger" parent="." instance=ExtResource("5_4jmyt")]
position = Vector2(168, -88)
visible_only_in_zone = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="ActionTrigger"]
position = Vector2(0, 16)
shape = SubResource("CircleShape2D_atrgi")

[node name="ActionTrigger2" parent="." instance=ExtResource("5_4jmyt")]
position = Vector2(56, -152)

[node name="Body1" parent="." instance=ExtResource("6_574rc")]
position = Vector2(24, -8)

[node name="EnterTrigger" parent="." instance=ExtResource("7_3g5m2")]
position = Vector2(48, -8)

[node name="CollisionShape2D" type="CollisionShape2D" parent="EnterTrigger"]
shape = SubResource("CircleShape2D_0yces")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
visible = false
navigation_polygon = SubResource("NavigationPolygon_0xjb2")

[node name="Path2D" type="Path2D" parent="."]
curve = SubResource("Curve2D_jv8t7")

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D"]
position = Vector2(128, -32)
rotation = 1.5708
loop = false

[connection signal="action_done" from="ActionTrigger" to="." method="_on_demo_dialogues_body_entered"]
[connection signal="player_entered" from="EnterTrigger" to="." method="_on_enter_trigger_player_entered"]
